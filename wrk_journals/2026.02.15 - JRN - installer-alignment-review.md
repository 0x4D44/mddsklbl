## 2026-02-15 19:23 UTC - Installer Alignment Review

- Task: Compared installer and packaging changes in `C:\language\mdmdview` against `C:\language\mddsklbl` and identified what should be aligned.
- Actions taken:
  - Inspected `mdmdview` installer history and current `wix/main.wxs`.
  - Mapped behavior to `mddsklbl/installers/DesktopLabeler.iss`.
  - Verified whether run-at-startup is handled in-app in `mddsklbl` (`src/autorun.rs`, tray command wiring).
- Key findings:
  - `mdmdview` intentionally removed installer-level Run-at-Startup option.
  - `mddsklbl` still exposes installer-level autostart task while also supporting runtime tray toggle.
  - `mddsklbl` install path already uses `Program Files\\0x4D44 Software\\Desktop Labeler`.
  - `mddsklbl` does not currently create a desktop shortcut task/option.
  - `mddsklbl` Start Menu group is not nested under `0x4D44 Software`.
- Blockers: none.
- Emotional temperature: focused and slightly wary about duplicate startup controls causing user confusion; otherwise straightforward comparison work.

## 2026-02-15 19:31 UTC - Decisions Applied

- Arthur confirmed direction:
  - Keep installer Run at startup option for this app.
  - Add installer desktop shortcut option.
  - Align Start Menu grouping and publisher branding with `mdmdview`.
  - Discuss whether to move to WiX.
- Implemented:
  - Updated `installers/DesktopLabeler.iss`:
    - Publisher `0x4D44 Software` -> `0x4D44`
    - Start Menu group `Desktop Labeler` -> `0x4D44 Software\\Desktop Labeler`
    - Added `desktopicon` task (default checked once) and desktop icon bound to that task
    - Preserved installer `autostart` task and run key behavior
  - Bumped package/install metadata version `1.1.0` -> `1.1.1` in `Cargo.toml`, `Cargo.lock`, and installer script.
- Validation:
  - `cargo fmt --all` passed
  - `cargo clippy -- -D warnings` passed
  - `cargo test -q` passed
- Emotional temperature: confident about this scope and alignment; still cautious that migrating to WiX right now adds cost without strong payoff unless MSI-specific deployment needs are immediate.

## 2026-02-15 19:40 UTC - ISCC Installation

- Arthur asked to install ISCC locally.
- Installed Inno Setup via winget (`JRSoftware.InnoSetup` 6.7.0).
- Verified compiler execution and built installer successfully:
  - Output: `C:\language\mddsklbl\installers\DesktopLabeler-1.1.1-Setup.exe`
- Added ISCC directory to user PATH:
  - `C:\Users\MartinDavidson\AppData\Local\Programs\Inno Setup 6`
- Noted compiler warnings during build about deprecated `x64` arch identifier, `pf` constant rename, and admin+HKCU mixed install behavior.
- Emotional temperature: satisfied with quick resolution; mildly concerned by installer warnings and should tidy them in a follow-up.

## 2026-02-15 19:48 UTC - Installer Warning Cleanup

- Arthur requested warning cleanup.
- Updated installer script to remove reported Inno Setup warnings:
  - `ArchitecturesAllowed` and `ArchitecturesInstallIn64BitMode`: `x64` -> `x64compatible`
  - `DefaultDirName`: `{pf}` -> `{commonpf}`
  - Added `UsedUserAreasWarning=no` because installer intentionally writes HKCU autorun while running elevated for Program Files install.
- Recompiled installer with ISCC from local path:
  - `C:\Users\MartinDavidson\AppData\Local\Programs\Inno Setup 6\ISCC.exe`
  - Result: successful compile, no warnings
  - Output: `C:\language\mddsklbl\installers\DesktopLabeler-1.1.2-Setup.exe`
- Bumped version metadata for versioned files touched:
  - `Cargo.toml`, `Cargo.lock`, `installers/DesktopLabeler.iss`: `1.1.1` -> `1.1.2`
- Validation:
  - `cargo fmt --all` passed
  - `cargo clippy -- -D warnings` passed
  - `cargo test -q` passed
- Emotional temperature: relieved to see warning-free installer build; confidence is high.
